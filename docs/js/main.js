const m=document.querySelector(".js_bntSerch"),v=document.querySelector(".js_bntReset"),s=document.querySelector(".js_serieslist"),d=document.querySelector(".js_inputSearch"),c=document.querySelector(".js_seriesfavorite"),a=document.querySelector(".lisfavorite"),u=document.querySelector(".lisresul"),r=[];function S(){m.addEventListener("click",t=>{t.preventDefault();const e=d.value;e===""?s.innerHTML="<p> No hay resultados </p>":p(e)})}function p(t){fetch(`https://api.jikan.moe/v4/anime?q=${t}`).then(e=>e.json()).then(e=>g(e.data))}function g(t){s.innerHTML="",u.classList.remove("hidden");for(const e of t){const n=e.title;let i=e.images.jpg.image_url;const o=e.mal_id;i.includes("apple-touch-icon-256")&&(i="https://placehold.co/210x300/ffffff/555555?text=TV"),l(i,n,o,s),L(i,n,o,c)}}function l(t,e,n,i){const o=`<li id="serie-${n}">
                    <img src="${t}" alt="${e}" width="150">
                    <h4>${e}</h4>
                </li>`;i.insertAdjacentHTML("beforeend",o)}function L(t,e,n,i){const o=document.querySelector(`#serie-${n}`);o.addEventListener("click",f=>{f.preventDefault(),a.classList.remove("hidden"),l(t,e,n,i),o.classList.add("highligth");const h={image:t,title:e,id:n};r.push(h),localStorage.setItem("favorite",JSON.stringify(r))})}function j(){const t=JSON.parse(localStorage.getItem("favorite"));if(t){a.classList.remove("hidden");for(const e of t){l(e.image,e.title,e.id,c);const n={image:e.image,title:e.title,id:e.id};r.push(n)}}}function q(){v.addEventListener("click",t=>{t.preventDefault(),s.innerHTML="",d.innerHTML="",c.innerHTML="",localStorage.clear(),a.classList.add("hidden"),u.classList.add("hidden")})}function y(){S(),q(),j()}y();
//# sourceMappingURL=main.js.map
